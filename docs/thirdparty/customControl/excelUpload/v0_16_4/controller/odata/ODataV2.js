"use strict";sap.ui.define(["./OData"],function(t){function e(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const a=e(t);class r extends a{createPromises=[];createContexts=[];constructor(t){super(t)}create(t,e,a){const r=(t,e)=>new Promise((a,r)=>{let s=t.getModel().createEntry(t.sDeepPath,{properties:e,success:t=>{a(s)},error:t=>{r(t)}})});return r(e,a)}createAsync(t,e,a){const r=this.create(t,e,a);this.createPromises.push(r)}async waitForCreation(t){const e=t=>new Promise((e,a)=>{t.submitChanges({success:t=>{e(t)},error:t=>{a(t)}})});try{const a=await e(t)}catch(t){}this.createContexts=await Promise.all(this.createPromises)}async waitForDraft(){const t=[];for(let e=0;e<this.createContexts.length;e++){const a=this.createContexts[e];if(this.draftController.getDraftContext().hasDraft(a)){try{const e=this.draftController.getDraftContext().getODataDraftFunctionImportName(a,"ActivationAction");if(e!==null){const e=this.draftController.activateDraftEntity(a,true);t.push(e)}}catch(t){}}}return Promise.all(t)}getView(t){return t.getView()}getOdataType(t,e,a){if(!a){return t._getEntityType().entityType}}async createLabelList(t,e,a){const r=a.getModel().getMetaModel();await r.loaded();const s=r.getODataEntityType(e);return this.metaDatahandler.createLabelListV2(t,e,s)}resetContexts(){this.createContexts=[];this.createPromises=[]}async getKeyList(t,e){const a=e.getModel().getMetaModel();await a.loaded();const r=a.getODataEntityType(t);return this.metaDatahandler.getKeyListV2(r)}}return r});
//# sourceMappingURL=ODataV2.js.map